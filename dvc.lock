schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/hdb-resale-price-index.csv
      md5: 039e3ad31e70306631040be148225e7e
      size: 1879
    - path: data/raw_data/transactions_1.txt
      md5: c031a9636b2ed7b16a84ae5b940d2295
      size: 5179162
    - path: data/raw_data/transactions_2.txt
      md5: 398ed84e825fbb5b1d9ff3dd7e29ed49
      size: 6766367
    - path: data/raw_data/transactions_3.txt
      md5: dade95074c3fb8601dc012415261a793
      size: 11851110
    - path: data/raw_data/transactions_4.txt
      md5: 28e9f5779ec4d9c0fc5887cb8b570e2b
      size: 4559074
    - path: src/preprocess.py
      md5: 2bd6f380afb0417a27c2b89506cb09c9
      size: 8379
    outs:
    - path: data/clean_data.csv
      md5: aec402d38b8b620c2138063bf8d670c4
      size: 1464113
  train:
    cmd: python src/train.py
    deps:
    - path: data/clean_data.csv
      md5: aec402d38b8b620c2138063bf8d670c4
      size: 1464113
    - path: src/train.py
      md5: ba5c921a59f92bc88243332557cd854d
      size: 2570
    outs:
    - path: models/pipeline.pkl
      md5: b659f18db360caf361c7b559bd294ccb
      size: 266120
  eda:
    cmd: python src/eda.py
    deps:
    - path: data/clean_data.csv
      md5: aec402d38b8b620c2138063bf8d670c4
      size: 1464113
    - path: src/eda.py
      md5: 948d4534762fdde178605693114db05f
      size: 435
    outs:
    - path: data/pandas_profiling_report.html
      md5: ad3622881aae4bc8e3593e4c2973659a
      size: 3279507
  optimize:
    cmd: python src/optimize.py
    deps:
    - path: data/clean_data.csv
      md5: aec402d38b8b620c2138063bf8d670c4
      size: 1464113
    - path: models/pipeline.pkl
      md5: b659f18db360caf361c7b559bd294ccb
      size: 266120
    - path: src/optimize.py
      md5: 49dd273174f28605554a7baed7fdef28
      size: 3687
    outs:
    - path: models/best_pipeline.pkl
      md5: 13286bee33fe69ad6d6de977c07d9580
      size: 2367868
  run_experiment:
    cmd: python src/run_experiment.py 0.06873357115231221 155 9 3 0.5 0.7485632025654929
      0.8252374368807873 1.0 0.0 gbtree
    deps:
    - path: src/run_experiment.py
      md5: 84f545cd3cd93682fa6506df911c9baa
      size: 1714
    - path: src/train.py
      md5: ba5c921a59f92bc88243332557cd854d
      size: 2570
  extract:
    cmd: sh src/extract/extract_data.sh
    outs:
    - path: data/raw_data/transactions_1.txt
      md5: c031a9636b2ed7b16a84ae5b940d2295
      size: 5179162
    - path: data/raw_data/transactions_2.txt
      md5: 398ed84e825fbb5b1d9ff3dd7e29ed49
      size: 6766367
    - path: data/raw_data/transactions_3.txt
      md5: dade95074c3fb8601dc012415261a793
      size: 11851110
    - path: data/raw_data/transactions_4.txt
      md5: 28e9f5779ec4d9c0fc5887cb8b570e2b
      size: 4559074
  interpret:
    cmd: python src/interpret.py
    deps:
    - path: data/clean_data.csv
      md5: aec402d38b8b620c2138063bf8d670c4
      size: 1464113
    - path: models/best_pipeline.pkl
      md5: 13286bee33fe69ad6d6de977c07d9580
      size: 2367868
    - path: src/interpret.py
      md5: f5ae5d3be3ff30f23d134cb463519a08
      size: 1764
    outs:
    - path: models/explainer.pkl
      md5: 7ad2d818f53c2731be639a43028e1110
      size: 8625069
    - path: models/shap_summary_plot.png
      md5: 3275f3657e36538a9a462693a1c80bf0
      size: 74521

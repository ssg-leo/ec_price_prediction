schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/hdb-resale-price-index.csv
      md5: 039e3ad31e70306631040be148225e7e
      size: 1879
    - path: data/raw_data/transactions_1.txt
      md5: 4d623da33450f3ee3be2bff1c5cf243a
      size: 5173788
    - path: data/raw_data/transactions_2.txt
      md5: 6aec9b6e1977eba002386caa287d221c
      size: 6755899
    - path: data/raw_data/transactions_3.txt
      md5: 02acf88629b42c674709012c3c874ebe
      size: 11833026
    - path: data/raw_data/transactions_4.txt
      md5: 19f340a41a01b0598d1f059dc0ab3aff
      size: 4551012
    - path: src/preprocess.py
      md5: 2bd6f380afb0417a27c2b89506cb09c9
      size: 8379
    outs:
    - path: data/clean_data.csv
      md5: f9c6b5c4af14d4b4ece4aeb401838b91
      size: 1463478
  eda:
    cmd: python src/eda.py
    deps:
    - path: data/clean_data.csv
      md5: f9c6b5c4af14d4b4ece4aeb401838b91
      size: 1463478
    - path: src/eda.py
      md5: 948d4534762fdde178605693114db05f
      size: 435
    outs:
    - path: data/pandas_profiling_report.html
      md5: 012b2c35788fb0c55e901ac62ce91f0a
      size: 3278263
  run_experiment:
    cmd: python src/run_experiment.py 0.1 100 6 1 0.0 1.0 1.0 0.0 1.0 gbtree
    deps:
    - path: src/run_experiment.py
      md5: f9f858d3368c0c7b02a57b8d00f6f56c
      size: 1812
    - path: src/train.py
      md5: d468ae6cd5f1fa541a9a307ac1eff9f8
      size: 2575
    params:
      params.yaml:
        train.booster: gbtree
        train.colsample_bytree: 1.0
        train.gamma: 0.0
        train.learning_rate: 0.1
        train.max_depth: 6
        train.min_child_weight: 1
        train.n_estimators: 100
        train.reg_alpha: 0.0
        train.reg_lambda: 1.0
        train.subsample: 1.0
    outs:
    - path: experiment_models
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  extract:
    cmd: sh src/extract/extract_data.sh
    outs:
    - path: data/raw_data/transactions_1.txt
      md5: 4d623da33450f3ee3be2bff1c5cf243a
      size: 5173788
    - path: data/raw_data/transactions_2.txt
      md5: 6aec9b6e1977eba002386caa287d221c
      size: 6755899
    - path: data/raw_data/transactions_3.txt
      md5: 02acf88629b42c674709012c3c874ebe
      size: 11833026
    - path: data/raw_data/transactions_4.txt
      md5: 19f340a41a01b0598d1f059dc0ab3aff
      size: 4551012
  interpret:
    cmd: python src/interpret.py
    deps:
    - path: data/clean_data.csv
      md5: f9c6b5c4af14d4b4ece4aeb401838b91
      size: 1463478
    - path: models/best_pipeline.pkl
      md5: a6d8fc076dc2a33ee17822374b248a9d
      size: 2705324
    - path: src/interpret.py
      md5: f5ae5d3be3ff30f23d134cb463519a08
      size: 1764
    outs:
    - path: models/explainer.pkl
      md5: 2cd60493304f887c6b033a49927577bc
      size: 10504665
    - path: models/shap_summary_plot.png
      md5: 808bf59a3ddeacb43db51eaad27fff24
      size: 72627
